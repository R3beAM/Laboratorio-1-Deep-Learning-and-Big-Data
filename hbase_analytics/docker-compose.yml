version: '3.8'

services:
  hbase:
    image: harisekhon/hbase
    ports:
      - "16010:16010"
      - "9090:9090"
    environment:
      HBASE_MANAGES_ZK: "true"

  consumer:
    image: python:3.10
    working_dir: /app
    volumes:
      - .:/app
    command: python consumer.py
    depends_on:
      - hbase

  analytics:
    image: python:3.10
    working_dir: /app
    volumes:
      - .:/app
    command: python analytics_queries.py
    depends_on:
      - hbase
